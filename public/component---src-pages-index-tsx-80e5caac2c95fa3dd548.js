(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{148:function(t,e,i){"use strict";i.r(e);var n=i(7),a=i.n(n),s=i(0),r=i(157),o=(i(208),i(209)),h=i.n(o),c=i(230),l=i.n(c),u=function(){function t(t){this.particlesHitArea=!1,this.particlesRandom=2,this.particlesDepth=4,this.particlesSize=1.5,this.touchRadius=.15,this.range=[0,1],this.rangeRandom=[1,10],this.rangeSize=[0,3],this.rangeDepth=[1,10],this.rangeRadius=[0,.5],this.webgl=t}var e=t.prototype;return e.initControlKit=function(){this.controlKit=new h.a,this.controlKit.addPanel({width:300,enable:!1}).addGroup({label:"Touch",enable:!0}).addCanvas({label:"trail",height:64}).addSlider(this,"touchRadius","rangeRadius",{label:"radius",onChange:this.onTouchChange.bind(this)}).addGroup({label:"Particles",enable:!0}).addSlider(this,"particlesRandom","rangeRandom",{label:"random",onChange:this.onParticlesChange.bind(this)}).addSlider(this,"particlesDepth","rangeDepth",{label:"depth",onChange:this.onParticlesChange.bind(this)}).addSlider(this,"particlesSize","rangeSize",{label:"size",onChange:this.onParticlesChange.bind(this)});var t=this.controlKit.getComponentBy({label:"trail"});t&&(this.touchCanvas=t._canvas,this.touchCtx=this.touchCanvas.getContext("2d"))},e.initStats=function(){this.stats=new l.a,document.body.appendChild(this.stats.dom)},e.update=function(){if(this.touchCanvas){if(!this.webgl)return;if(!this.webgl.particles)return;if(!this.webgl.particles.touch)return;var t=this.webgl.particles.touch.canvas,e=Math.floor(.5*(this.touchCanvas.width-t.width));this.touchCtx.fillRect(0,0,this.touchCanvas.width,this.touchCanvas.height),this.touchCtx.drawImage(t,e,0)}},e.enable=function(){this.controlKit.enable(),this.stats&&(this.stats.dom.style.display="")},e.disable=function(){this.controlKit.disable(),this.stats&&(this.stats.dom.style.display="none")},e.toggle=function(){this.controlKit._enabled?this.disable():this.enable()},e.onTouchChange=function(){this.webgl&&this.webgl.particles&&(this.webgl.particles.touch.radius=this.touchRadius)},e.onParticlesChange=function(){this.webgl&&this.webgl.particles&&(this.webgl.particles.object3D.material.uniforms.uRandom.value=this.particlesRandom,this.webgl.particles.object3D.material.uniforms.uDepth.value=this.particlesDepth,this.webgl.particles.object3D.material.uniforms.uSize.value=this.particlesSize,this.webgl.particles.hitArea.material.visible=this.particlesHitArea)},t}(),d=i(172),m=(i(231),i(233)),v=i.n(m),p=i(234),f=i(236),g=!1,w=!1,b=function(){return!!function(){if(g)return w;var t;g=!0;try{t=Object.defineProperty({},"passive",{get:function(){w=!0}}),window.addEventListener("test",null,t)}catch(e){return w}return window.removeEventListener("test",null,t),w}()&&{passive:!0}},x=function(t){function e(e,i){var n;return(n=t.call(this)||this).objects=[],n.hovered=null,n.selected=null,n.isDown=!1,n.camera=e,n.el=i||window,n.plane=new d.j,n.raycaster=new d.n,n.mouse=new d.r,n.offset=new d.s,n.intersection=new d.s,n.browser=Object(p.a)(),n.enable(),n}a()(e,t),v()(e,[{key:"enabled",get:function(){return this._enabled}}]);var i=e.prototype;return i.enable=function(){this.enabled||(this.addListeners(),this._enabled=!0)},i.disable=function(){this.enabled&&(this.removeListeners(),this._enabled=!1)},i.addListeners=function(){this.handlerDown=this.onDown.bind(this),this.handlerMove=this.onMove.bind(this),this.handlerUp=this.onUp.bind(this),this.handlerLeave=this.onLeave.bind(this),this.browser.mobile?(this.el.addEventListener("touchstart",this.handlerDown,b),this.el.addEventListener("touchmove",this.handlerMove,b),this.el.addEventListener("touchend",this.handlerUp,b)):(this.el.addEventListener("mousedown",this.handlerDown),this.el.addEventListener("mousemove",this.handlerMove),this.el.addEventListener("mouseup",this.handlerUp),this.el.addEventListener("mouseleave",this.handlerLeave))},i.removeListeners=function(){this.browser.mobile?(this.el.removeEventListener("touchstart",this.handlerDown),this.el.removeEventListener("touchmove",this.handlerMove),this.el.removeEventListener("touchend",this.handlerUp)):(this.el.removeEventListener("mousedown",this.handlerDown),this.el.removeEventListener("mousemove",this.handlerMove),this.el.removeEventListener("mouseup",this.handlerUp),this.el.removeEventListener("mouseleave",this.handlerLeave))},i.resize=function(t,e,i,n){t||e||i||n?this.rect={x:t,y:e,width:i,height:n}:this.el===window?this.rect={x:0,y:0,width:window.innerWidth,height:window.innerHeight}:this.rect=this.el.getBoundingClientRect()},i.onMove=function(t){if(this.rect){var e=t.touches?t.touches[0]:t,i=e.clientX,n=e.clientY;this.mouse.x=(i+this.rect.x)/this.rect.width*2-1,this.mouse.y=-(n+this.rect.y)/this.rect.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var a=this.raycaster.intersectObjects(this.objects);if(a.length>0){var s=a[0].object;this.intersectionData=a[0],this.plane.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(this.plane.normal),s.position),this.hovered!==s?(this.emit("interactive-out",{object:this.hovered}),this.emit("interactive-over",{object:s}),this.hovered=s):this.emit("interactive-move",{object:s,intersectionData:this.intersectionData})}else this.intersectionData=null,null!==this.hovered&&(this.emit("interactive-out",{object:this.hovered}),this.hovered=null)}},i.onDown=function(t){this.isDown=!0,this.onMove(t),this.emit("interactive-down",{object:this.hovered,previous:this.selected,intersectionData:this.intersectionData}),this.selected=this.hovered,this.selected&&this.raycaster.ray.intersectPlane(this.plane,this.intersection)&&this.offset.copy(this.intersection).sub(this.selected.position)},i.onUp=function(t){this.isDown=!1,this.emit("interactive-up",{object:this.hovered})},i.onLeave=function(t){this.onUp(t),this.emit("interactive-out",{object:this.hovered}),this.hovered=null},e}(f),y=(i(39),i(237),i(238),i(242),i(251)),E=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},z=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},D=(i(244),i(86),function(){function t(t){this.size=64,this.maxAge=120,this.radius=.15,this.trail=[],this.parent=t,this.initTexture()}var e=t.prototype;return e.initTexture=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.size,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new d.p(this.canvas),this.canvas.id="touchTexture",this.canvas.style.width=this.canvas.style.height=this.canvas.width+"px"},e.update=function(t){var e=this;this.clear(),this.trail.forEach(function(t,i){t.age++,t.age>e.maxAge&&e.trail.splice(i,1)}),this.trail.forEach(function(t,i){e.drawTouch(t)}),this.texture.needsUpdate=!0},e.clear=function(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},e.addTouch=function(t){var e=0,i=this.trail[this.trail.length-1];if(i){var n=i.x-t.x,a=i.y-t.y,s=n*n+a*a;e=Math.min(1e4*s,1)}this.trail.push({x:t.x,y:t.y,age:0,force:e})},e.drawTouch=function(t){var e={x:t.x*this.size,y:(1-t.y)*this.size},i=z(1-(t.age-.3*this.maxAge)/(.7*this.maxAge),0,1,1);t.age<.3*this.maxAge&&(i=z(t.age/(.3*this.maxAge),0,1,1)),i*=t.force;var n=this.size*this.radius*i,a=this.ctx.createRadialGradient(e.x,e.y,.25*n,e.x,e.y,n);a.addColorStop(0,"rgba(255, 255, 255, 0.2)"),a.addColorStop(1,"rgba(0, 0, 0, 0.0)"),this.ctx.beginPath(),this.ctx.fillStyle=a,this.ctx.arc(e.x,e.y,n,0,2*Math.PI),this.ctx.fill()},t}()),C=i(245),A=function(){function t(t){this.webgl=t,this.container=new d.h}var e=t.prototype;return e.init=function(t){var e=this;(new d.q).load(t,function(t){e.texture=t,e.texture.minFilter=d.e,e.texture.magFilter=d.e,e.texture.format=d.l,e.width=t.image.width,e.height=t.image.height,e.initPoints(!0),e.initHitArea(),e.initTouch(),e.resize(),e.show()})},e.initPoints=function(t){this.numPoints=this.width*this.height;var e,n=this.numPoints,a=0;if(t){n=0,a=34;var s=this.texture.image,r=document.createElement("canvas"),o=r.getContext("2d");r.width=this.width,r.height=this.height,o.scale(1,-1),o.drawImage(s,0,0,this.width,-1*this.height);var h=o.getImageData(0,0,r.width,r.height);e=Float32Array.from(h.data);for(var c=0;c<this.numPoints;c++)e[4*c+0]>a&&n++}var l={uTime:{value:0},uRandom:{value:1},uDepth:{value:2},uSize:{value:0},uTextureSize:{value:new d.r(this.width,this.height)},uTexture:{value:this.texture},uTouch:{value:null}},u=new d.m({uniforms:l,vertexShader:C(i(246)),fragmentShader:C(i(247)),depthTest:!1,transparent:!0}),m=new d.d,v=new d.a(new Float32Array(12),3);v.setXYZ(0,-.5,.5,0),v.setXYZ(1,.5,.5,0),v.setXYZ(2,-.5,-.5,0),v.setXYZ(3,.5,-.5,0),m.addAttribute("position",v);var p=new d.a(new Float32Array(8),2);p.setXYZ(0,0,0,0),p.setXYZ(1,1,0,0),p.setXYZ(2,0,1,0),p.setXYZ(3,1,1,0),m.addAttribute("uv",p),m.setIndex(new d.a(new Uint16Array([0,2,1,2,3,1]),1));for(var f=new Uint16Array(n),g=new Float32Array(3*n),w=new Float32Array(n),b=0,x=0;b<this.numPoints;b++)t&&e[4*b+0]<=a||(g[3*x+0]=b%this.width,g[3*x+1]=Math.floor(b/this.width),f[x]=b,w[x]=Math.random()*Math.PI,x++);m.addAttribute("pindex",new d.c(f,1,!1)),m.addAttribute("offset",new d.c(g,3,!1)),m.addAttribute("angle",new d.c(w,1,!1)),this.object3D=new d.f(m,u),this.container.add(this.object3D)},e.initTouch=function(){this.touch||(this.touch=new D(this)),this.object3D.material.uniforms.uTouch.value=this.touch.texture},e.initHitArea=function(){var t=new d.k(this.width,this.height,1,1),e=new d.g({color:16777215,wireframe:!0,depthTest:!1});e.visible=!1,this.hitArea=new d.f(t,e),this.container.add(this.hitArea)},e.addListeners=function(){this.handlerInteractiveMove=this.onInteractiveMove.bind(this),this.webgl.interactive.addListener("interactive-move",this.handlerInteractiveMove),this.webgl.interactive.objects.push(this.hitArea),this.webgl.interactive.enable()},e.removeListeners=function(){var t=this;this.webgl.interactive.removeListener("interactive-move",this.handlerInteractiveMove);var e=this.webgl.interactive.objects.findIndex(function(e){return e===t.hitArea});this.webgl.interactive.objects.splice(e,1),this.webgl.interactive.disable()},e.update=function(t){this.object3D&&(this.touch&&this.touch.update(),this.object3D.material.uniforms.uTime.value+=t)},e.show=function(t){void 0===t&&(t=1),y.a.fromTo(this.object3D.material.uniforms.uSize,t,{value:.5},{value:1.5}),y.a.to(this.object3D.material.uniforms.uRandom,t,{value:2}),y.a.fromTo(this.object3D.material.uniforms.uDepth,1.5*t,{value:40},{value:4}),this.addListeners()},e.hide=function(t,e){var i=this;return void 0===e&&(e=.8),new Promise(function(n,a){y.a.to(i.object3D.material.uniforms.uRandom,e,{value:5,onComplete:function(){t&&i.destroy(),n()}}),y.a.to(i.object3D.material.uniforms.uDepth,e,{value:-20,ease:E}),y.a.to(i.object3D.material.uniforms.uSize,.8*e,{value:0}),i.removeListeners()})},e.destroy=function(){this.object3D&&(this.object3D.parent.remove(this.object3D),this.object3D.geometry.dispose(),this.object3D.material.dispose(),this.object3D=null,this.hitArea&&(this.hitArea.parent.remove(this.hitArea),this.hitArea.geometry.dispose(),this.hitArea.material.dispose(),this.hitArea=null))},e.resize=function(){if(this.object3D){var t=this.webgl.fovHeight/this.height;this.object3D.scale.set(t,t,1),this.hitArea.scale.set(t,t,1)}},e.onInteractiveMove=function(t){var e=t.intersectionData.uv;this.touch&&this.touch.addTouch(e)},t}(),j=function(){function t(){this.currSample=null,this.samples=["images/sample-01.png","images/sample-02.png","images/sample-03.png","images/sample-04.png","images/sample-05.png"],this.initThree(),this.initParticles(),this.initControls();var t=~~(Math.random()*this.samples.length);this.goto(t)}var e=t.prototype;return e.initThree=function(){var t=window.innerWidth,e=window.innerHeight;this.scene=new d.o,this.camera=new d.i(50,t/e,1,1e4),this.camera.position.z=300,this.renderer=new d.t({antialias:!0,alpha:!0}),this.clock=new d.b(!0)},e.initControls=function(){this.interactive=new x(this.camera,this.renderer.domElement)},e.initParticles=function(){this.particles=new A(this),this.scene.add(this.particles.container)},e.update=function(){var t=this.clock.getDelta();this.particles&&this.particles.update(t)},e.draw=function(){this.renderer.render(this.scene,this.camera)},e.goto=function(t){var e=this;null==this.currSample?this.particles.init(this.samples[t]):this.particles.hide(!0).then(function(){e.particles.init(e.samples[t])}),this.currSample=t},e.next=function(){this.currSample<this.samples.length-1?this.goto(this.currSample+1):this.goto(0)},e.resize=function(){this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.fovHeight=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z,this.renderer.setSize(window.innerWidth,window.innerHeight),this.interactive&&this.interactive.resize(),this.particles&&this.particles.resize())},t}(),L=function(t){function e(){return t.apply(this,arguments)||this}a()(e,t);var i=e.prototype;return i.componentDidMount=function(){this.initWebGL(),this.initGUI(),this.addListeners(),this.animate(),this.resize()},i.initWebGL=function(){this.webgl=new j,this.mount.appendChild(this.webgl.renderer.domElement)},i.initGUI=function(){this.gui=new u(this)},i.addListeners=function(){this.handlerAnimate=this.animate.bind(this),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("keyup",this.keyup.bind(this)),this.webgl.renderer.domElement.addEventListener("click",this.click.bind(this))},i.animate=function(){this.update(),this.draw(),this.raf=requestAnimationFrame(this.handlerAnimate)},i.update=function(){this.gui.stats&&this.gui.stats.begin(),this.webgl&&this.webgl.update(),this.gui&&this.gui.update()},i.draw=function(){this.webgl&&this.webgl.draw(),this.gui.stats&&this.gui.stats.end()},i.resize=function(){this.webgl&&this.webgl.resize()},i.keyup=function(t){71===t.keyCode&&this.gui&&this.gui.toggle()},i.click=function(t){this.webgl.next()},i.render=function(){var t=this;return s.createElement("div",{style:{position:"absolute"},ref:function(e){return t.mount=e}})},e}(s.Component),T=i(248),P=i(163),_=i.n(P),S=(i(249),function(t){function e(){return t.apply(this,arguments)||this}return a()(e,t),e.prototype.render=function(){return s.createElement(s.Fragment,null,s.createElement(_.a,{defaultTitle:"RayLiao"},s.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"})),this.props.children)},e}(s.Component)),k=function(t){function e(){return t.apply(this,arguments)||this}return a()(e,t),e.prototype.render=function(){return s.createElement(S,null,s.createElement("div",{className:T.container},s.createElement(L,null),s.createElement("nav",{className:T.nav},s.createElement(r.a,{to:"/"},"HOME"),s.createElement(r.a,{to:"/blog"},"BLOG"),s.createElement(r.a,{to:"/shoot/2018"},"PHOTOGRAPHY")),s.createElement("div",{className:T.main},s.createElement("h1",null,"WingRay Liao"),s.createElement("p",null,"Front-end developer, photography enthusiasts")),s.createElement("div",{className:T.sns},s.createElement("a",{href:"https://github.com/rayliao",target:"_blank",title:"github"},s.createElement("i",{className:"fa fa-github"})),s.createElement("a",{href:"https://instagram.com/wingrayliao/",target:"_blank",title:"instagram"},s.createElement("i",{className:"fa fa-instagram"})),s.createElement("a",{href:"https://www.facebook.com/wingrayliao",target:"_blank",title:"facebook"},s.createElement("i",{className:"fa fa-facebook-square"})),s.createElement("a",{href:"https://www.linkedin.com/in/wingrayliao",target:"_blank",title:"linkedin"},s.createElement("i",{className:"fa fa-linkedin"})),s.createElement("a",{href:"http://weibo.com/574954033",target:"_blank",title:"weibo"},s.createElement("i",{className:"fa fa-weibo"})),s.createElement("a",{href:"https://500px.com/wingrayliao",target:"_blank",title:"500px"},s.createElement("i",{className:"fa fa-500px"})),s.createElement("a",{href:"https://www.flickr.com/photos/ray1989/",target:"_blank",title:"flickr"},s.createElement("i",{className:"fa fa-flickr"})),s.createElement("a",{href:"http://rayliao.lofter.com/",target:"_blank",title:"lofter"},"lofter"),s.createElement("a",{href:"http://blog.segmentfault.com/rayliao",target:"_blank",className:"segmentfault"},"sf"),s.createElement("a",{href:"http://www.douban.com/people/lensliao/",target:"_blank",title:"douban"},"è±†"),s.createElement("a",{href:"javascript:;",title:"QQ: 574954033"},s.createElement("i",{className:"fa fa-qq"})),s.createElement("a",{href:"javascript:;",title:"rayliao1989@gmail.com"},s.createElement("i",{className:"fa fa-envelope"})))))},e}(s.Component);i.d(e,"default",function(){return M});var M=function(t){function e(){return t.apply(this,arguments)||this}return a()(e,t),e.prototype.render=function(){return s.createElement(k,null)},e}(s.Component)},152:function(t,e,i){var n;t.exports=(n=i(158))&&n.default||n},157:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=i(4),r=i.n(s),o=i(32),h=i.n(o);i.d(e,"a",function(){return h.a});i(152),a.a.createContext({});r.a.object,r.a.string.isRequired,r.a.func,r.a.func},158:function(t,e,i){"use strict";i.r(e);i(33);var n=i(0),a=i.n(n),s=i(4),r=i.n(s),o=i(54),h=i(2),c=function(t){var e=t.location,i=h.default.getResourcesForPathnameSync(e.pathname);return a.a.createElement(o.a,Object.assign({location:e,pageResources:i},i.json))};c.propTypes={location:r.a.shape({pathname:r.a.string.isRequired}).isRequired},e.default=c},246:function(t,e){t.exports="// @author brunoimbrizi / http://brunoimbrizi.com\n\nprecision highp float;\n#define GLSLIFY 1\n\nattribute float pindex;\nattribute vec3 position;\nattribute vec3 offset;\nattribute vec2 uv;\nattribute float angle;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTime;\nuniform float uRandom;\nuniform float uDepth;\nuniform float uSize;\nuniform vec2 uTextureSize;\nuniform sampler2D uTexture;\nuniform sampler2D uTouch;\n\nvarying vec2 vPUv;\nvarying vec2 vUv;\n\n// #pragma glslify: snoise2 = require(glsl-noise/simplex/2d)\n\nfloat random(float n) {\n\treturn fract(sin(n) * 43758.5453123);\n}\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v) {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n\t// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n\t// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n\t// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n\t// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n\t// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n\t// Normalise gradients implicitly by scaling m\n\t// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n\t// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main() {\n\tvUv = uv;\n\n\t// particle uv\n\tvec2 puv = offset.xy / uTextureSize;\n\tvPUv = puv;\n\n\t// pixel color\n\tvec4 colA = texture2D(uTexture, puv);\n\tfloat grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n\n\t// displacement\n\tvec3 displaced = offset;\n\t// randomise\n\tdisplaced.xy += vec2(random(pindex) - 0.5, random(offset.x + pindex) - 0.5) * uRandom;\n\tfloat rndz = (random(pindex) + snoise_1_2(vec2(pindex * 0.1, uTime * 0.1)));\n\tdisplaced.z += rndz * (random(pindex) * 2.0 * uDepth);\n\t// center\n\tdisplaced.xy -= uTextureSize * 0.5;\n\n\t// touch\n\tfloat t = texture2D(uTouch, puv).r;\n\tdisplaced.z += t * 20.0 * rndz;\n\tdisplaced.x += cos(angle) * t * 20.0 * rndz;\n\tdisplaced.y += sin(angle) * t * 20.0 * rndz;\n\n\t// particle size\n\tfloat psize = (snoise_1_2(vec2(uTime, pindex) * 0.5) + 2.0);\n\tpsize *= max(grey, 0.2);\n\tpsize *= uSize;\n\n\t// final position\n\tvec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);\n\tmvPosition.xyz += position * psize;\n\tvec4 finalPosition = projectionMatrix * mvPosition;\n\n\tgl_Position = finalPosition;\n}\n"},247:function(t,e){t.exports="// @author brunoimbrizi / http://brunoimbrizi.com\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D uTexture;\n\nvarying vec2 vPUv;\nvarying vec2 vUv;\n\nvoid main() {\n\tvec4 color = vec4(0.0);\n\tvec2 uv = vUv;\n\tvec2 puv = vPUv;\n\n\t// pixel color\n\tvec4 colA = texture2D(uTexture, puv);\n\n\t// greyscale\n\tfloat grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n\tvec4 colB = vec4(grey, grey, grey, 1.0);\n\n\t// circle\n\tfloat border = 0.3;\n\tfloat radius = 0.5;\n\tfloat dist = radius - distance(uv, vec2(0.5));\n\tfloat t = smoothstep(0.0, border, dist);\n\n\t// final color\n\tcolor = colB;\n\tcolor.a = t;\n\n\tgl_FragColor = color;\n}"}}]);
//# sourceMappingURL=component---src-pages-index-tsx-80e5caac2c95fa3dd548.js.map